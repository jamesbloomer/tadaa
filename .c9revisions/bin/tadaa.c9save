{"ts":1354977704483,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"#!/usr/bin/env node\n\nvar tadaa = require('../lib/tadaa.js'),\n    pivotaltracker = require('../lib/pivotaltracker.js'),\n    zendesk = require('../lib/zendesk.js'),\n    program = require('commander');\n\nprogram\n\t.version('0.0.4')\n\t.option('-i, --interval [interval]', 'The interval in ms for which to check the monitoring call', 5000)\n\t.option('-u, --up [up]', 'The sound to play when the monitored value goes up')\n\t.option('-d, --down [down]', 'The sound to play when the monitored value goes down')\n\t.option('-a, --audioplayer [audioplayer]', 'The audio player to use to play the sounds', 'aplay')\n\t.option('-t, --pttoken [pttoken]', 'A Pivotal Tracker API token')\n\t.option('-p, --ptprojectid [ptprojectid]', 'A Pivotal Tracker project id')\n\t.option('-h, --zenhost [zenhost]', 'The Zendesk host')\n\t.option('-e, --zenemail [zenemail]', 'Email for Zendesk')\n\t.option('-s, --zenpassword [zenpassword]', 'Password for Zendesk')\n\t.option('-v, --zenview [zenview ]', 'The Zendesk view to monitor');\n\nvar options;\nvar getValue;\n\nvar start = function() {\n\ttadaa.start(program.interval, program.up, program.down, getValue, options, program.audioplayer);\n};\n\nprogram\n\t.command('pivotaltracker')\n\t.description('monitor Pivotal Tracker')\n\t.action(function() {\n\t\tconsole.log('Monitoring Pivotal Tracker');\n\t\toptions = { token: program.pttoken, projectId: program.ptprojectid };\n\t\tvar pivotalFunctions = ['bugs', 'features'];\n\t\tconsole.log('Choose which story type to monitor:');\n\t\tprogram.choose(pivotalFunctions, function(i){\n\t\t\tswitch(i) {\n\t\t\t\tcase 0:\n\t\t\t\t\tgetValue = pivotaltracker.getOpenBugs;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\t\t\t\t\tgetValue = pivotaltracker.getOpenFeatures;\n\t\t\t\t\tbreak;\n\t\t\t};\n\n\t\t\tstart();\n\t\t});\n\t});\n\nprogram\n\t.command('zendesk')\n\t.description('monitor Zendesk')\n\t.action(function() {\n\t\tconsole.log('Monitoring Zendesk');\n\t\toptions = { zenHost: program.zenhost, zenEmail: program.zenemail, zenPassword: program.zenpassword, zenView: program.zenview };\n\t\tgetValue = zendesk.getOpenTickets;\n\t\tstart();\n\t});\n    \nprogram.parse(process.argv);\n\n"]],"start1":0,"start2":0,"length1":0,"length2":2039}]],"length":2039}
{"contributors":[],"silentsave":false,"ts":1366892769852,"patch":[[{"diffs":[[0,"nterval,"],[1," [{fn: tadaa.up, sound:"],[0," program"]],"start1":1068,"start2":1068,"length1":16,"length2":39},{"diffs":[[0,"ogram.up"],[1,"}"],[0,", "],[1,"{fn:tadaa.down, sound:"],[0,"program."]],"start1":1102,"start2":1102,"length1":18,"length2":41},{"diffs":[[0,"ram.down"],[1,"}]"],[0,", getVal"]],"start1":1139,"start2":1139,"length1":16,"length2":18}]],"length":2087,"saved":false}
